{"timestamp": "2025-11-20 07:20:59,009", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 07:20:59,012", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:20:59,012", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:25:26,168", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 07:25:26,393", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 07:26:18,565", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 07:26:18,801", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 07:27:15,943", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 07:27:16,177", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 07:27:23,563", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 07:27:23,793", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 07:28:07,050", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:28:25,304", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:28:25,307", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/favicon.ico", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 07:28:28,585", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:28:30,060", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:29:42,389", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 07:29:42,391", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/favicon.ico", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 10:07:21,677", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:07:21,979", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:09:05,681", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:09:17,267", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:09:28,004", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:11:02,913", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:11:03,208", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:11:18,091", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:13:20,835", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:13:21,128", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:15:35,278", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:15:44,904", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:15:45,204", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:15:52,298", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:17:36,663", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:17:36,949", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:19:04,010", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:19:04,303", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:19:19,541", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:19:49,454", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:19:49,462", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:19:49,470", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 10:24:30,800", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:24:31,101", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:24:37,306", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 10:26:41,903", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:26:42,136", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:28:37,337", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:28:37,570", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:29:21,457", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 10:29:33,310", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 10:30:16,328", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 10:30:16,328", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:46:09,688", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 11:46:09,958", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 11:49:00,714", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 11:49:00,945", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 11:49:08,763", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:49:08,764", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:49:08,764", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:49:08,765", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:49:08,766", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:49:08,766", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:49:08,766", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:49:08,767", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:49:08,767", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:49:08,768", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:49:08,768", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:49:08,768", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:49:08,768", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:51,726", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:51,727", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:51,728", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:51,728", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:51,729", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:51,729", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:51,730", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:51,730", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:51,731", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:51,731", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:51,731", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:53:51,731", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:51,732", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:58,444", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:58,445", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:58,446", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:58,446", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:58,447", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:58,447", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:58,448", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:58,448", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:58,449", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:53:58,449", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:53:58,449", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:53:58,450", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:53:58,450", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:26,373", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:26,374", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:26,374", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:26,375", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:26,375", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:26,376", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:26,376", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:26,377", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:26,377", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:26,378", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:26,378", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:55:26,378", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:26,379", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:39,978", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 11:55:51,950", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 11:55:57,646", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:57,647", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:57,647", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:57,648", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:57,649", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:57,649", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:57,649", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:57,650", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:57,650", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:55:57,651", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:55:57,651", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:55:57,651", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:55:57,652", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:58:30,788", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 11:58:31,028", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 11:58:44,437", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:58:44,438", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:58:44,439", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:58:44,439", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:58:44,440", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:58:44,440", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:58:44,441", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:58:44,441", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:58:44,442", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 11:58:44,442", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 11:58:44,442", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 11:58:44,442", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 11:58:44,443", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:01:35,013", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:01:35,241", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:02:21,753", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:02:21,990", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:02:27,949", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:02:27,950", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:02:27,951", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:02:27,951", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:02:27,952", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:02:27,952", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:02:27,953", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:02:27,953", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:02:27,954", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:02:27,966", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:02:27,966", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:02:27,966", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:02:27,967", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:06:17,126", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:06:17,360", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:06:31,331", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:06:31,332", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:06:31,333", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:06:31,334", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:06:31,334", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:06:31,335", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:06:31,335", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:06:31,335", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:06:31,336", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:06:31,336", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:06:31,337", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:06:31,337", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:06:31,337", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:08:47,160", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:08:47,395", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:08:51,903", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:08:51,904", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:08:51,905", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:08:51,905", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:08:51,906", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:08:51,906", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:08:51,907", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:08:51,907", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:08:51,907", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:08:51,908", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:08:51,908", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:08:51,908", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:08:51,909", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:11:23,276", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:11:23,512", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:11:33,190", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,191", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:11:33,192", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:11:33,192", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,193", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:11:33,193", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:11:33,194", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,194", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:11:33,195", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:11:33,195", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,195", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:11:33,196", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:11:33,196", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:11:33,197", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,198", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/route-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 12:11:33,198", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/route-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 12:11:33,210", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:11:33,210", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 10, in test_internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:14:00,996", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:14:01,237", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:14:12,540", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,541", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:12,542", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:12,543", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,543", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:12,544", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:12,544", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,544", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:12,545", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:12,545", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,546", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:14:12,546", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:12,546", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:12,548", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,548", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:14:12,548", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-http-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in test_http_error_route\n    raise HTTPException(status_code=404, detail=\"Not Found\")\nfastapi.exceptions.HTTPException: 404: Not Found\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 207, in http_exception_handler\n    return JSONResponse(\n        status_code=exc.status_code,\n        content=ErrorResponse(error=error, meta=meta).model_dump(),\n    )\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 189, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 46, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 192, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable\nwhen serializing dict item 'timestamp'\nwhen serializing dict item 'meta'"}
{"timestamp": "2025-11-20 12:14:12,725", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:12,726", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:14:24,603", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:14:24,836", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:14:47,459", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,460", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:47,460", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:47,461", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,462", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:47,462", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:47,462", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,463", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:47,463", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:47,464", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,464", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:14:47,464", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:14:47,465", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:14:47,466", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,467", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:14:47,467", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-http-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in test_http_error_route\n    raise HTTPException(status_code=404, detail=\"Not Found\")\nfastapi.exceptions.HTTPException: 404: Not Found\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 207, in http_exception_handler\n    return JSONResponse(\n        status_code=exc.status_code,\n        content=ErrorResponse(error=error, meta=meta).model_dump(),\n    )\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 189, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 46, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 192, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable\nwhen serializing dict item 'timestamp'\nwhen serializing dict item 'meta'"}
{"timestamp": "2025-11-20 12:14:47,649", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:14:47,650", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:18:28,448", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,449", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:28,449", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:28,450", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,450", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:28,451", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:28,451", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,452", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:28,452", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:28,453", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,453", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:18:28,453", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:28,454", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:28,455", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,455", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:18:28,456", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-http-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in test_http_error_route\n    raise HTTPException(status_code=404, detail=\"Not Found\")\nfastapi.exceptions.HTTPException: 404: Not Found\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 207, in http_exception_handler\n    return JSONResponse(\n        status_code=exc.status_code,\n        content=ErrorResponse(error=error, meta=meta).model_dump(),\n    )\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 189, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 46, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 192, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable\nwhen serializing dict item 'timestamp'\nwhen serializing dict item 'meta'"}
{"timestamp": "2025-11-20 12:18:28,631", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:28,632", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:18:41,284", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:18:41,521", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:18:55,918", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:55,919", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:55,920", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:55,921", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:55,921", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:55,922", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:55,922", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:55,922", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:55,923", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:55,923", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:55,924", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:18:55,924", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:18:55,924", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:18:55,925", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:55,925", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:18:55,925", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-http-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in http_error_route\n    raise HTTPException(status_code=404, detail=\"Not Found\")\nfastapi.exceptions.HTTPException: 404: Not Found\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 207, in http_exception_handler\n    return JSONResponse(\n        status_code=exc.status_code,\n        content=ErrorResponse(error=error, meta=meta).model_dump(),\n    )\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 189, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 46, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 192, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable\nwhen serializing dict item 'timestamp'\nwhen serializing dict item 'meta'"}
{"timestamp": "2025-11-20 12:18:56,101", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:18:56,102", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:21:06,484", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:21:06,726", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:21:10,135", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,135", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:21:10,136", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:21:10,137", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,137", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:21:10,138", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:21:10,138", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,139", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:21:10,139", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:21:10,140", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,140", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:21:10,140", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:21:10,140", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:21:10,141", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,141", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:21:10,141", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-http-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in http_error_route\n    raise HTTPException(status_code=404, detail=\"Not Found\")\nfastapi.exceptions.HTTPException: 404: Not Found\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 59, in wrapped_app\n    response = await handler(conn, exc)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 207, in http_exception_handler\n    return JSONResponse(\n        status_code=exc.status_code,\n        content=ErrorResponse(error=error, meta=meta).model_dump(),\n    )\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 189, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 46, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/responses.py\", line 192, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/json/encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable\nwhen serializing dict item 'timestamp'\nwhen serializing dict item 'meta'"}
{"timestamp": "2025-11-20 12:21:10,319", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:21:10,319", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 53, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:22:28,015", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:22:28,252", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:22:35,945", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,946", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:22:35,946", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:22:35,947", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,948", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:22:35,948", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:22:35,949", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,949", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:22:35,949", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:22:35,950", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,950", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:22:35,950", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:22:35,951", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:22:35,951", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,952", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:22:35,952", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 12:22:35,952", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 12:22:35,953", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:22:35,953", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:24:01,556", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:24:01,787", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:24:09,762", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,763", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:24:09,764", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:24:09,764", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,765", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:24:09,765", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:24:09,766", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,766", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:24:09,766", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:24:09,767", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,767", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:24:09,767", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:24:09,768", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:24:09,768", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,769", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:24:09,769", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 12:24:09,769", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 12:24:09,770", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:24:09,770", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:24:09,775", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 12:27:08,791", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:27:09,033", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:27:18,343", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,344", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:27:18,345", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:27:18,346", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,346", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:27:18,347", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:27:18,362", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,362", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:27:18,362", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:27:18,363", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,363", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:27:18,363", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:27:18,364", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:27:18,364", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,365", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:27:18,365", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 12:27:18,365", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 12:27:18,366", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:27:18,366", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:27:18,373", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 12:28:38,392", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:28:38,626", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:28:46,108", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:28:46,343", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:32:51,465", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:32:51,777", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:32:55,214", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:32:55,417", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:32:58,552", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:32:58,785", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:34:57,461", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:34:57,715", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:36:40,111", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 12:36:40,347", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 12:36:55,122", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,123", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:36:55,124", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:36:55,124", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,125", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:36:55,125", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:36:55,126", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,126", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:36:55,126", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:36:55,127", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,127", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 12:36:55,127", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 12:36:55,128", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 12:36:55,128", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,129", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 12:36:55,129", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 12:36:55,129", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 12:36:55,130", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 12:36:55,130", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 12:36:55,137", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 13:40:00,514", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 13:40:00,820", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 13:40:04,663", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 13:40:04,881", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 13:40:07,005", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 13:40:07,233", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 13:50:01,195", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 13:50:01,437", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 14:04:35,470", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 14:04:35,788", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 14:05:29,367", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 14:05:29,580", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 14:05:37,638", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,638", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 14:05:37,639", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 14:05:37,640", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,640", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 14:05:37,641", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 14:05:37,641", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,642", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 14:05:37,642", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 14:05:37,642", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,643", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 14:05:37,643", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 14:05:37,643", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 14:05:37,644", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,644", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 14:05:37,644", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 14:05:37,645", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 14:05:37,645", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 14:05:37,645", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 14:05:37,652", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 14:08:37,496", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 14:08:37,702", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 14:08:41,243", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 14:08:41,483", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:23:50,262", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,263", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:23:50,263", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:23:50,264", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,264", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:23:50,265", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:23:50,265", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,266", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:23:50,266", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:23:50,267", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,267", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:23:50,267", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:23:50,267", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:23:50,268", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,268", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 17:23:50,268", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 17:23:50,269", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 17:23:50,269", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:23:50,270", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 17:23:50,277", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 17:26:12,356", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 17:26:12,622", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:26:16,292", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:26:16,293", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:26:16,294", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:26:16,294", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:26:16,295", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:26:16,295", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:26:16,296", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:26:16,296", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:26:16,296", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:26:16,297", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:26:16,297", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:26:16,297", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:26:16,298", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:26:16,298", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:26:16,299", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:26:16,299", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:49:05,900", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:49:05,901", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:49:05,902", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:49:05,903", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:49:05,903", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:49:05,903", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:49:05,904", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:49:05,904", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:49:05,905", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:49:05,905", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:49:05,906", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:49:05,906", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:49:05,906", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:49:05,907", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:49:05,907", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:49:05,907", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:35,855", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 17:52:36,154", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:52:44,648", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:44,649", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:44,649", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:44,650", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:44,651", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:44,651", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:44,652", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:44,652", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:44,652", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:44,653", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:44,653", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:52:44,653", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:44,654", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:44,654", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:44,654", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:44,655", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:55,461", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 17:52:55,701", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:52:59,780", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:59,781", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:59,782", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:59,783", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:59,783", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:59,783", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:59,784", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:59,784", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:59,785", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:59,785", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:59,786", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:52:59,786", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:59,786", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:52:59,787", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:52:59,787", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:52:59,788", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:55:24,196", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 17:55:24,437", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:55:32,968", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:55:32,969", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:55:32,969", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:55:32,970", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:55:32,971", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:55:32,971", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:55:32,972", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:55:32,972", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:55:32,972", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:55:32,973", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:55:32,973", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:55:32,973", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:55:32,974", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:55:32,974", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:55:32,975", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:55:32,975", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:43,331", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 17:57:43,584", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 17:57:47,748", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,750", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:57:47,750", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:47,751", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,751", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:57:47,752", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:47,752", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,753", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:57:47,753", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:47,754", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,754", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 17:57:47,754", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:57:47,754", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:47,755", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,755", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 17:57:47,756", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 17:57:47,756", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,756", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 17:57:47,757", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 17:57:47,757", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 17:57:47,757", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,758", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 11, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 17:57:47,765", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 17:57:47,765", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 17:57:47,766", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 17:57:47,766", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:00:58,054", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:00:58,055", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:00:58,056", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:00:58,056", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:00:58,057", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:00:58,057", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:00:58,058", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:00:58,058", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:00:58,059", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:00:58,059", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:00:58,059", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:00:58,059", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:00:58,060", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:00:58,060", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:00:58,061", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:00:58,061", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:01:00,814", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:01:01,080", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:07:33,593", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:07:33,891", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:08:02,799", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:08:02,801", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:08:02,801", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:08:02,802", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:08:02,802", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:08:02,803", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:08:02,803", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:08:02,804", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:08:02,804", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:08:02,804", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:08:02,805", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:08:02,805", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:08:02,805", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:08:02,806", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:08:02,806", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:08:02,806", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:08:59,529", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:08:59,771", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:09:49,224", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:09:49,461", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:11:38,779", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:11:39,010", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:25:10,185", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,186", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:25:10,186", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:25:10,187", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,187", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:25:10,188", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:25:10,188", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,189", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:25:10,189", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:25:10,190", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,190", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:25:10,190", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:25:10,190", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:25:10,191", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,191", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:25:10,192", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:25:10,192", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,193", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 18:25:10,193", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:25:10,193", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:25:10,194", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,194", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 18:25:10,201", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 18:25:10,201", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:25:10,202", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:25:10,202", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:28:30,060", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:28:30,429", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:28:40,781", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,781", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:28:40,782", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:28:40,783", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,783", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:28:40,784", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:28:40,784", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,785", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:28:40,785", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:28:40,785", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,786", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:28:40,786", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:28:40,786", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:28:40,787", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,787", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:28:40,788", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:28:40,788", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,788", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 18:28:40,789", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:28:40,789", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:28:40,789", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,790", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 18:28:40,797", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 18:28:40,798", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:28:40,798", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:28:40,798", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:31:10,246", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:31:10,488", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:31:14,901", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,902", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:31:14,903", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:31:14,904", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,904", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:31:14,904", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:31:14,905", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,905", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:31:14,906", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:31:14,906", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,907", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:31:14,907", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:31:14,907", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:31:14,907", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,908", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:31:14,908", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:31:14,909", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,909", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 18:31:14,909", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:31:14,910", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:31:14,910", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,910", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 18:31:14,917", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 18:31:14,918", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:31:14,918", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 18:31:14,918", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 18:35:40,086", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 18:35:40,376", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 18:35:51,187", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,188", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,189", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,189", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,190", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,190", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,191", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,191", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,192", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,192", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,192", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:35:51,193", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,193", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,193", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,194", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,194", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,195", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,195", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 18:35:51,195", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,195", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 18:35:51,196", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 18:35:51,196", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 18:35:51,196", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 18:35:51,197", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,555", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,556", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,557", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,557", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,558", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,558", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,559", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,559", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,560", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,560", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,560", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:06:14,560", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,561", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,561", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,562", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,562", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,563", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,563", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:06:14,563", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,563", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,564", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,564", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:06:14,564", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:06:14,565", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:06:14,565", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,565", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:06:14,566", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:06:14,566", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:06:14,566", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,567", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:06:14,574", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:06:14,575", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:06:14,575", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:06:14,575", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:09:50,397", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:09:50,676", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:10:36,568", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,569", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,569", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,570", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,571", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,571", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,571", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,572", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,572", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,573", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,573", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:10:36,573", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,574", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,574", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,574", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,575", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,575", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,576", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:10:36,576", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,576", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,577", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,577", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:10:36,577", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:36,577", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:36,578", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,578", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:10:36,578", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:10:36,579", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:10:36,579", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,580", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:10:36,587", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:10:36,587", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:36,588", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:10:36,588", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:10:42,131", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:10:42,385", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:10:55,732", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,732", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,733", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,734", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,734", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,735", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,735", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,736", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,736", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,737", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,737", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:10:55,737", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,737", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,738", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,738", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,739", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,739", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,740", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:10:55,740", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,740", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,740", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,741", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:10:55,741", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:10:55,741", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:10:55,742", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,742", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:10:55,742", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:10:55,743", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:10:55,743", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,744", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:10:55,748", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:10:55,749", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:10:55,749", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:10:55,749", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:13:31,188", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:13:31,469", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:14:05,940", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,941", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,942", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,942", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,943", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,943", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,944", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,944", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,945", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,945", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,945", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:14:05,945", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,946", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,946", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,947", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,947", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,948", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,948", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:14:05,948", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,948", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,949", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,949", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:14:05,949", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:05,950", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:05,950", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,951", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:14:05,951", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:14:05,951", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:14:05,952", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,952", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:14:05,959", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:14:05,960", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:05,960", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:14:05,960", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:14:12,613", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:14:12,890", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:14:20,105", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,106", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,106", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,107", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,107", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,108", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,108", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,109", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,109", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,110", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,110", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:14:20,110", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,111", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,111", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,111", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,112", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,112", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,113", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:14:20,113", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,113", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,114", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,114", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:14:20,114", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:14:20,114", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:14:20,115", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,115", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:14:20,115", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:14:20,116", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:14:20,116", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,117", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:14:20,121", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:14:20,122", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:14:20,122", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:14:20,123", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:16:16,113", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:16:16,388", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:17:08,051", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:17:08,265", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-20 21:17:15,200", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,201", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,201", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,202", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,202", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,203", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,203", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,204", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,204", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,205", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,205", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:17:15,205", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,205", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,206", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,206", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,207", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,207", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,207", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-20 21:17:15,207", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,208", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,208", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,209", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-20 21:17:15,209", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-20 21:17:15,209", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-20 21:17:15,210", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,210", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-20 21:17:15,210", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:17:15,211", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:17:15,211", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,211", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-20 21:17:15,218", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-20 21:17:15,219", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-20 21:17:15,219", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-20 21:17:15,220", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-20 21:21:51,417", "level": "INFO", "logger": "nova.api", "message": "Nova shutdown", "event_type": "shutdown"}
{"timestamp": "2025-11-20 21:21:51,729", "level": "INFO", "logger": "nova.api", "message": "Nova startup complete", "event_type": "startup"}
{"timestamp": "2025-11-21 08:58:58,432", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,433", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,434", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,434", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,435", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,435", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,436", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,436", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,437", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,437", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,437", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 08:58:58,438", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,438", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,439", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,439", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,439", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,440", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,440", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-21 08:58:58,440", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,441", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,441", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,441", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 08:58:58,441", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 08:58:58,442", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 08:58:58,444", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,444", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-21 08:58:58,444", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 08:58:58,445", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 08:58:58,445", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,445", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-21 08:58:58,453", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-21 08:58:58,453", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 08:58:58,453", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 08:58:58,454", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 14:42:59,831", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,833", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,834", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,834", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,835", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,835", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,836", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,836", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,836", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,837", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,837", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 14:42:59,837", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,838", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,838", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,839", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,839", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,839", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,840", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-21 14:42:59,840", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,840", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,841", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,841", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 14:42:59,841", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:42:59,841", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:42:59,848", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,849", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,850", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,851", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,853", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,853", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-21 14:42:59,853", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 14:42:59,854", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 14:42:59,854", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,855", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-21 14:42:59,862", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-21 14:42:59,862", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:42:59,863", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 14:42:59,863", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 14:42:59,864", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,865", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,866", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:42:59,867", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,118", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,118", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,119", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,120", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,120", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,121", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,121", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,122", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,122", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,123", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,123", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 14:44:34,123", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,123", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,124", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,124", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,125", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,125", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,126", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-21 14:44:34,126", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,126", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,127", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,127", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-21 14:44:34,127", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-21 14:44:34,127", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-21 14:44:34,134", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,135", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,136", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,137", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,139", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,139", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-21 14:44:34,139", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 14:44:34,140", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 14:44:34,140", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,140", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-21 14:44:34,145", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-21 14:44:34,146", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-21 14:44:34,146", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-21 14:44:34,147", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-21 14:44:34,148", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,149", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,150", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-21 14:44:34,152", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,466", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,469", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,471", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,473", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,475", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,477", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,494", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,495", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,496", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,496", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,497", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,497", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,498", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,498", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,498", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,499", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,499", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-22 11:52:16,499", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,500", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,500", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,501", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,501", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,501", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,502", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-22 11:52:16,502", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,502", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,503", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,503", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-22 11:52:16,503", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 11:52:16,503", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 11:52:16,505", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,505", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,506", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,508", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,510", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,510", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-22 11:52:16,511", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-22 11:52:16,511", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-22 11:52:16,512", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,512", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-22 11:52:16,519", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-22 11:52:16,520", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 11:52:16,520", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-22 11:52:16,521", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-22 11:52:16,522", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,524", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,526", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,527", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,529", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,531", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,534", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,535", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,537", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 11:52:16,539", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,979", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,982", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,984", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,986", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,988", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:40,990", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,006", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,007", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/health", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,007", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,008", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,008", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/status", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,009", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/status \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,009", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,010", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/version", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,010", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/version \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,010", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,011", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-22 13:12:41,011", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,011", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,012", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,012", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,012", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/ \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,013", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,013", "level": "WARNING", "logger": "nova.actions", "message": "Invalid or missing Actions token on handshake", "event_type": "actions_handshake_unauthorized"}
{"timestamp": "2025-11-22 13:12:41,013", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,014", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,014", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,014", "level": "INFO", "logger": "nova.actions", "message": "Actions handshake", "event_type": "actions_handshake", "path": "/actions/handshake"}
{"timestamp": "2025-11-22 13:12:41,015", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/actions/handshake", "method": "GET", "status_code": 200}
{"timestamp": "2025-11-22 13:12:41,015", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/actions/handshake \"HTTP/1.1 200 OK\""}
{"timestamp": "2025-11-22 13:12:41,016", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,017", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,018", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,020", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,022", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,022", "level": "ERROR", "logger": "nova.api", "message": "HTTP error", "event_type": "http_error", "path": "/test-http-error", "status_code": 404}
{"timestamp": "2025-11-22 13:12:41,022", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/test-http-error", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-22 13:12:41,023", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-http-error \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-22 13:12:41,023", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,023", "level": "ERROR", "logger": "nova.api", "message": "Unhandled exception", "event_type": "unhandled_exception", "path": "/test-internal-error", "exc_info": "Traceback (most recent call last):\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/errors.py\", line 164, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 191, in __call__\n    with recv_stream, send_stream, collapse_excgroups():\n                                   ~~~~~~~~~~~~~~~~~~^^\n  File \"/opt/homebrew/Cellar/python@3.14/3.14.0_1/Frameworks/Python.framework/Versions/3.14/lib/python3.14/contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_utils.py\", line 85, in collapse_excgroups\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 193, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/app/main.py\", line 54, in dispatch\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 168, in call_next\n    raise app_exc from app_exc.__cause__ or app_exc.__context__\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/base.py\", line 144, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/middleware/exceptions.py\", line 63, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/middleware/asyncexitstack.py\", line 18, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 716, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 736, in app\n    await route.handle(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/routing.py\", line 290, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 125, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 111, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 391, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"/Users/jose/Nova/.venv/lib/python3.14/site-packages/fastapi/routing.py\", line 290, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/jose/Nova/tests/test_errors.py\", line 15, in internal_error_route\n    raise RuntimeError(\"boom\")\nRuntimeError: boom"}
{"timestamp": "2025-11-22 13:12:41,031", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/test-internal-error \"HTTP/1.1 500 Internal Server Error\""}
{"timestamp": "2025-11-22 13:12:41,031", "level": "DEBUG", "logger": "asyncio", "message": "Using selector: KqueueSelector"}
{"timestamp": "2025-11-22 13:12:41,032", "level": "INFO", "logger": "nova.api", "message": "API call", "event_type": "api_call", "path": "/this-path-does-not-exist", "method": "GET", "status_code": 404}
{"timestamp": "2025-11-22 13:12:41,033", "level": "INFO", "logger": "httpx", "message": "HTTP Request: GET http://testserver/this-path-does-not-exist \"HTTP/1.1 404 Not Found\""}
{"timestamp": "2025-11-22 13:12:41,033", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,035", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,037", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,039", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,041", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,043", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,045", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,047", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,049", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
{"timestamp": "2025-11-22 13:12:41,051", "level": "INFO", "logger": "app.db.session", "message": "Database engine initialized", "event_type": "db_engine_init"}
